(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{24:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(18),i=n.n(o),r=(n(24),n(9)),s=n.n(r),u=n(12),l=n(2),j=n(17),b=function(e,t){switch(t.type){case"ZMENA_SUROVINY":return Object(j.a)(Object(j.a)({},e),{},{surovina:t.payload});default:return e}},d=n(0),p={surovina:"kacer"},v=Object(a.createContext)(p),m=function(e){var t=e.children,n=Object(a.useReducer)(b,p),c=Object(l.a)(n,2),o=c[0],i=c[1];return Object(d.jsx)(v.Provider,{value:{surovina:o.surovina,zmenSurovinu:function(e){i({type:"ZMENA_SUROVINY",payload:e})}},children:t})},h=function(e){var t=e.cislovporadi,n=e.name,c=e.eventklik,o=Object(a.useContext)(v).zmenSurovinu;return Object(d.jsxs)("div",{children:[t," - ",n,Object(d.jsx)("div",{className:"btn",onClick:function(){o(n),c(n)},children:"Zobraz detail"})]})},f=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),i=Object(l.a)(o,2),r=i[0],j=i[1],b=Object(a.useState)(""),p=Object(l.a)(b,2),v=p[0],m=p[1];Object(a.useEffect)((function(){f()}),[]);var f=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j("nacitam data"),e.next=3,fetch("http://localhost:7000/get-materials");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,a=n.msg,o=n.documents,c(o),j(a);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(e){m(e)};return Object(d.jsxs)("div",{children:[n.map((function(e,t){return Object(d.jsx)(h,{eventklik:O,name:e.name,cislovporadi:t},t)})),Object(d.jsx)("div",{className:"msg",children:r}),v]})},O=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"text",value:n,onInput:function(e){c(e.target.value)}}),Object(d.jsx)("div",{className:"btn",onClick:function(){fetch("http://localhost:7000/save-material",{method:"post",headers:{accept:"application/json","content-type":"application/json"},body:JSON.stringify({name:n})}).then((function(e){return e.json()})).then((function(e){console.log(e.msg),c("")}))},children:"Vlozit material"})]})},x=function(e){var t=e.zavri,n=Object(a.useState)(""),c=Object(l.a)(n,2),o=c[0],i=c[1],r=Object(a.useState)(""),s=Object(l.a)(r,2),u=s[0],j=s[1],b=Object(a.useState)(!0),p=Object(l.a)(b,2),m=p[0],h=p[1],f=Object(a.useContext)(v),O=f.zapnutiVypnutiPaneluSVyberemSuroviny,x=f.vyberSurovinu;return Object(d.jsxs)("div",{className:"pridaniSuroviny",children:[Object(d.jsx)("div",{className:"zavrit",onClick:t}),Object(d.jsx)("h3",{children:"P\u0159id\xe1n\xed suroviny"}),Object(d.jsx)("input",{type:"text",onInput:function(e){return i(e.target.value)},value:o,placeholder:"Zadejte surovinu"}),m?Object(d.jsx)("div",{onClick:function(){h(!1),j("Ukl\xe1d\xe1m... chvilku strpen\xed"),fetch("http://localhost:5000/save-material",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify({name:o.toLowerCase()})}).then((function(e){return e.json()})).then((function(e){var t=e.msg;j(t),h(!0),"Surovina byla \xfasp\u011b\u0161n\u011b ulo\u017eena v na\u0161em seznamu!"===t&&(x({name:o,mnozstvi:0}),O(!1))})).catch((function(e){e&&(j("Nedo\u0161lo k ulo\u017een\xed!"),h(!0))}))},className:"btn btn-pridej-surovinu",children:"Ulo\u017e novou surovinu"}):Object(d.jsx)(d.Fragment,{}),Object(d.jsx)("p",{children:u})]})},y=function(e){var t=e.suroviny,n=e.vybranesuroviny,c=Object(a.useState)(!1),o=Object(l.a)(c,2),i=o[0],r=o[1],s=Object(a.useState)([]),u=Object(l.a)(s,2),j=u[0],b=u[1],p=Object(a.useContext)(v),m=p.zapnutiVypnutiPaneluSVyberemSuroviny,h=p.vyberSurovinu,f=Object(a.useState)(""),O=Object(l.a)(f,2),y=O[0],g=O[1];Object(a.useEffect)((function(){var e=t.filter((function(e){return n.map((function(e){return e.name})).indexOf(e.materialName)<0}));return b(e),function(){return!1}}),[t,n]);return Object(d.jsx)("div",{className:"vyberSurovin",children:Object(d.jsxs)("div",{className:"plocha",children:[Object(d.jsx)("div",{className:"zavrit",onClick:function(){m(!1)}}),Object(d.jsx)("div",{className:"vyhledavaciPole",children:Object(d.jsx)("input",{value:y,onInput:function(e){var n=e.target.value;g(n);var a=new RegExp(n,"gi"),c=t.filter((function(e){return e.materialName.match(a)}));b(c)},type:"text",placeholder:"Vyhledat suroviny (".concat(j.length,")")})}),Object(d.jsx)("div",{className:"suroviny",children:j.map((function(e,t){return Object(d.jsx)("div",{onClick:function(){var e={name:j[t].materialName,mnozstvi:0};h(e),function(e){var t=j.filter((function(t){return e.name!==t.materialName}));b(t)}(e)},className:"surovina",children:e.materialName},t)}))}),Object(d.jsx)("div",{className:"btn",onClick:function(){return r(!i)},children:" Po\u017eadovan\xe1 surovina v seznamu chyb\xed?"}),i?Object(d.jsx)(x,{zavri:function(){r(!1)}}):Object(d.jsx)(d.Fragment,{})]})})},g=function(){var e=Object(a.useContext)(v),t=e.zapniPanelSVyberemSurovin,n=e.zapnutiVypnutiPaneluSVyberemSuroviny,c=e.vybraneSuroviny,o=e.setVybraneSuroviny,i=Object(a.useState)(""),r=Object(l.a)(i,2),j=r[0],b=r[1],p=Object(a.useState)(""),m=Object(l.a)(p,2),h=m[0],f=m[1],O=Object(a.useState)(""),x=Object(l.a)(O,2),g=x[0],k=x[1],z=Object(a.useState)(""),N=Object(l.a)(z,2),S=N[0],C=N[1],w=Object(a.useState)([]),P=Object(l.a)(w,2),I=P[0],R=P[1],V=Object(a.useState)(0),E=Object(l.a)(V,2),A=E[0],F=E[1],U=Object(a.useState)(""),J=Object(l.a)(U,2),M=J[0],T=J[1],D=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(!0),fetch("http://localhost:7000/recieve-materials").then((function(e){return e.json()})).then((function(e){var t=e.data;R(t)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(e){var t=0;e.forEach((function(e){return t+=+e.mnozstvi})),F(t)},_=function(e){if(e.target.value&&e.target.value>0){var t=e.target.getAttribute("index");c[t].mnozstvi=parseInt(e.target.value),o(c),Z(c)}else{var n=e.target.getAttribute("index");c[n].mnozstvi=parseInt(0),o(c),Z(c)}},q=function(e){var t=e.target.getAttribute("index"),n=c.filter((function(e){return e.name!==c[t].name}));o(n),Z(c)},G=function(e){e.target.parentElement.setAttribute("class","polozka to-be-deleted")},L=function(e){e.target.parentElement.setAttribute("class","polozka")};return Object(d.jsxs)("div",{className:"layout",children:[t?Object(d.jsx)(y,{vybranesuroviny:c,suroviny:I}):Object(d.jsx)(d.Fragment,{}),Object(d.jsx)("div",{className:"column",style:{height:"90vh",overflow:"scroll"},children:Object(d.jsxs)("div",{className:"recipe-canvas",children:[Object(d.jsx)("h1",{children:"P\u0159id\xe1n\xed receptu"}),Object(d.jsxs)("div",{className:"add-recipe",children:[Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("label",{htmlFor:"nazev-receptu",children:Object(d.jsx)("h3",{children:" N\xe1zev receptu"})}),Object(d.jsx)("input",{placeholder:"Pou\u017eijte v\xfdsti\u017en\xe9 jm\xe9no pro receipt",type:"text",onInput:function(e){return b(e.target.value)},value:j})]}),Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("label",{htmlFor:"popis",children:Object(d.jsx)("h3",{children:" Popis"})}),'apiKey="qcg2yi8kqw531kmg6ydhz6wuxylra4kcs6uw4r3ityltqcu5" value=',h,"init=",{height:200,menubar:!1},"onEditorChange=",f]}),Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("label",{htmlFor:"popis",children:Object(d.jsx)("h3",{children:" Doba p\u0159\xedpravy"})}),Object(d.jsx)("input",{style:{width:"50%"},placeholder:"12 minut nap\u0159\xedklad",type:"text",onInput:function(e){return k(e.target.value)},value:g})]}),Object(d.jsxs)("div",{className:"card",style:{backgroundImage:"url(".concat(S,")"),backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"right top"},children:[Object(d.jsx)("label",{htmlFor:"popis",children:Object(d.jsx)("h3",{children:" N\xe1hledov\xfd obr\xe1zek"})}),Object(d.jsx)("input",{onInput:function(e){C(e.target.value)},placeholder:"Um\xedst\u011bte extern\xed odkaz",type:"text",name:"popis",value:S,style:{width:"50%"}})]}),Object(d.jsxs)("div",{className:"card",children:[Object(d.jsxs)("h3",{children:[" Seznam pou\u017eit\xfdch surovin (",A,"g) - pro jednu osobu"]}),Object(d.jsx)("p",{children:"V\u0161echny hodnoty zapistuje v gramech na jednu osobu!"}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"vypisSuroviny",children:c.map((function(e,t){var n=e.name;return Object(d.jsxs)("div",{className:"polozka",children:[Object(d.jsxs)("strong",{children:[n,"(g):"]}),Object(d.jsx)("input",{onInput:_,index:t,type:"number",name:n,value:c[t].mnozstvi},t),Object(d.jsx)("div",{className:"deleteThisItem",index:t,onClick:q,onMouseOver:G,onMouseOut:L,children:"smazat"})]},t)}))}),Object(d.jsx)("div",{onClick:function(){D()},className:"btn btn-add-item",children:" P\u0159idat surovinu"}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"btn btn-prefil-item",onClick:function(){b("Jiho\u010desk\xfd Gul\xe1\u0161"),f('<p><strong style="box-sizing: border-box; color: #333333; font-family: \'Roboto Condensed\', sans-serif; font-size: 14px; background-color: #ffffff;">Postup:</strong></p>\n      <p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: \'Roboto Condensed\', sans-serif; font-size: 14px; background-color: #ffffff;">1. Na s&aacute;dle orestujeme dozlatova na drobn&eacute; kosti\u010dky nakr&aacute;jenou o\u010di&scaron;t\u011bnou cibuli<br style="box-sizing: border-box;" />2. P\u0159id&aacute;me mletou \u010dervenou papriku, ihned vlo\u017e&iacute;me kostky osolen&eacute;ho a pep\u0159em oko\u0159en\u011bn&eacute;ho masa, podus&iacute;me ve vlastn&iacute; &scaron;\u0165&aacute;v\u011b<br style="box-sizing: border-box;" />3. Ope\u010den&eacute; maso podlijeme horkou vodou, oko\u0159en&iacute;me km&iacute;nem a rozdrcen&yacute;m \u010desnekem a dus&iacute;me dom\u011bkka<br style="box-sizing: border-box;" />4. Do hotov&eacute;ho gul&aacute;&scaron;e vm&iacute;ch&aacute;me je&scaron;t\u011b rajsk&yacute; protlak a p\u0159id&aacute;me podu&scaron;enou anglickou slaninu nakr&aacute;jenou na pl&aacute;tky<br style="box-sizing: border-box;" />5. Oko\u0159en&iacute;me drcen&yacute;m cel&yacute;m pep\u0159em a cca 5 minut v&scaron;e pova\u0159&iacute;me.</p>\n      <p><strong style="box-sizing: border-box; color: #333333; font-family: \'Roboto Condensed\', sans-serif; font-size: 14px; background-color: #ffffff;">Doporu\u010den&iacute;:</strong></p>\n      <p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: \'Roboto Condensed\', sans-serif; font-size: 14px; background-color: #ffffff;">Takto p\u0159ipraven&yacute; gul&aacute;&scaron; serv&iacute;rujeme s du&scaron;enou r&yacute;\u017e&iacute;.</p>'),k("140 minut"),C("https://www.jcted.cz/public/temp/photos/articles/54358/813842_300_285.jpg?lm=1611925219"),o([{mnozstvi:600,name:"hov\u011bz\xed maso"},{mnozstvi:200,name:"cibule"},{mnozstvi:100,name:"s\xe1dlo"},{mnozstvi:10,name:"raj\u010datov\xfd protlak"},{mnozstvi:10,name:"\u010desnek"},{mnozstvi:100,name:"mouka"},{mnozstvi:5,name:"sladk\xe1 paprika"},{mnozstvi:300,name:"\u010derstv\xe9 houby"},{mnozstvi:0,name:"s\u016fl"},{mnozstvi:0,name:"pep\u0159"},{mnozstvi:0,name:"su\u0161en\xe1 major\xe1nka"},{mnozstvi:0,name:"km\xedn"}])},children:" P\u0159edvyplnit receipt"})]})]}),Object(d.jsx)("div",{className:"btn btn-save-item",onClick:function(){var e={nazevReceptu:j,popis:h,dobaPripravy:g,nahledovyObrazek:S,suroviny:c,soucetGramaze:function(){var e=0;return c.forEach((function(t){e+=+t.mnozstvi})),e}(),fullText:function(){var e="".concat(j," ").concat(h," ").concat(g," ");return c.forEach((function(t){e+=t.name+" "})),e}()};e.nazevReceptu.length<=0?T({msg:"N\xe1zev receptu nen\xed vypln\u011bn - je to povinn\xfd \xfadaj"}):e.popis.length<=0?T({msg:"Popis receptu nebyl vypl\u0148\u011bn - je to povinn\xfd \xfadaj"}):e.dobaPripravy.length<=0?T({msg:"Doba p\u0159\xedpravy nen\xed vypln\u011bna - je to povinn\xfd \xfadaj"}):e.nahledovyObrazek.length<=0?T({msg:"N\xe1hledov\xfd obr\xe1zek nebyl p\u0159id\xe1n, vyu\u017eijte pros\xedm extern\xed URL adresy - je to povinn\xfd \xfadaj"}):e.suroviny.length<=0?T({msg:"\u017d\xe1dn\xe9 suroviny nebyly p\u0159id\xe1ny - pros\xedm, p\u0159idejte v\u0161echny suroviny, kter\xe1 do receptu pat\u0159\xed."}):fetch("http://localhost:7000/save-recipe",{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){T(e),"Recept byl \xfasp\u011b\u0161n\u011b ulo\u017een"===e.msg&&window.location.reload()})).catch((function(e){e&&T("Nelze se p\u0159ipojit k server, opakujte akci pozd\u011bji...")}))},children:" Ulo\u017eit receipt"}),Object(d.jsx)("p",{className:"serverMsg",children:M.msg})]})})]})},k=n(11),z=n(3),N=function(){var e=Object(a.useContext)(v).surovina;return Object(d.jsxs)("div",{className:"menu",children:[Object(d.jsx)(k.b,{to:"/",children:"Hlavni stranka"}),Object(d.jsx)(k.b,{to:"/add-material",children:"Pridani materialu"}),Object(d.jsx)("div",{children:e})]})},S=function(){return Object(d.jsx)(m,{children:Object(d.jsxs)(k.a,{children:[Object(d.jsx)(N,{}),Object(d.jsxs)(z.c,{children:[Object(d.jsx)(z.a,{exact:!0,path:"/add-recipe",component:g}),Object(d.jsx)(z.a,{exact:!0,path:"/",component:f}),Object(d.jsx)(z.a,{exact:!0,path:"/add-material",component:O})]})]})})};i.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(S,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.242ba9a7.chunk.js.map